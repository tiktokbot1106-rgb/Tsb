-- Script: Orbitar Player + Teleport Zona Segura Automático
-- By ChatGPT

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- =================== Variáveis ===================
local Distancia = 10
local Velocidade = 2
local Orbitar = false
local TargetHRP = nil
local HRP = nil
local Angulo = 0

local autoSafeEnabled = true -- ativa/desativa auto safe
local SafeZoneName = "Death Cutscene" -- nome da zona segura

-- =================== Atualiza Character ===================
local function UpdateCharacter()
	local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
	HRP = character:WaitForChild("HumanoidRootPart")
end
UpdateCharacter()
LocalPlayer.CharacterAdded:Connect(UpdateCharacter)

-- =================== GUI ===================
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 250, 0, 400)
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = false
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Title.BorderSizePixel = 0
Title.Text = "Orbitar Player"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.Parent = Frame

-- =================== Arrastar GUI ===================
do
	local dragging, dragInput, dragStart, startPos = false, nil, nil, nil
	Title.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragInput = input
			dragStart = input.Position
			startPos = Frame.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
					dragInput = nil
				end
			end)
		end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - dragStart
			Frame.Position = UDim2.new(
				startPos.X.Scale,
				startPos.X.Offset + delta.X,
				startPos.Y.Scale,
				startPos.Y.Offset + delta.Y
			)
		end
	end)
end

-- =================== Lista de Players ===================
local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Size = UDim2.new(1, 0, 0.4, -30)
ScrollingFrame.Position = UDim2.new(0, 0, 0, 30)
ScrollingFrame.ScrollBarThickness = 8
ScrollingFrame.BackgroundTransparency = 1
ScrollingFrame.Parent = Frame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 4)
UIListLayout.Parent = ScrollingFrame

local function StartOrbit(target)
	TargetHRP = target
	Orbitar = true
end
local function StopOrbit()
	Orbitar = false
	TargetHRP = nil
end

local function AtualizarLista()
	for _, child in pairs(ScrollingFrame:GetChildren()) do
		if child:IsA("TextButton") then child:Destroy() end
	end
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			local btn = Instance.new("TextButton")
			btn.Size = UDim2.new(1, -8, 0, 35)
			btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
			btn.TextColor3 = Color3.fromRGB(255, 255, 255)
			btn.Text = plr.Name
			btn.TextScaled = true
			btn.Parent = ScrollingFrame
			btn.MouseButton1Click:Connect(function()
				if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
					StartOrbit(plr.Character.HumanoidRootPart)
				end
			end)
		end
	end
	ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y)
end

Players.PlayerAdded:Connect(AtualizarLista)
Players.PlayerRemoving:Connect(AtualizarLista)
AtualizarLista()

-- =================== Sliders ===================
local SliderFrame = Instance.new("Frame")
SliderFrame.Size = UDim2.new(1, 0, 0.6, -30)
SliderFrame.Position = UDim2.new(0, 0, 0.4, 30)
SliderFrame.BackgroundTransparency = 1
SliderFrame.Parent = Frame

local function CreateSlider(name, min, max, default, posY, callback)
	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(1, -20, 0, 30)
	label.Position = UDim2.new(0, 10, 0, posY)
	label.BackgroundTransparency = 1
	label.Text = name .. ": " .. default
	label.TextColor3 = Color3.fromRGB(255,255,255)
	label.TextScaled = true
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = SliderFrame

	local sliderBG = Instance.new("Frame")
	sliderBG.Size = UDim2.new(1, -20, 0, 40)
	sliderBG.Position = UDim2.new(0, 10, 0, posY + 30)
	sliderBG.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	sliderBG.BorderSizePixel = 0
	sliderBG.Parent = SliderFrame

	local sliderFill = Instance.new("Frame")
	sliderFill.Size = UDim2.new((default-min)/(max-min),1,1,0)
	sliderFill.BackgroundColor3 = Color3.fromRGB(150,150,150)
	sliderFill.BorderSizePixel = 0
	sliderFill.Parent = sliderBG

	local handle = Instance.new("Frame")
	handle.Size = UDim2.new(0, 30, 1, 0)
	handle.Position = UDim2.new((default-min)/(max-min)-0.05,0,0,0)
	handle.BackgroundColor3 = Color3.fromRGB(200,200,200)
	handle.BorderSizePixel = 0
	handle.Parent = sliderBG

	local draggingSlider = false
	local sliderInput = nil
	local function updateSlider(posX)
		local pos = math.clamp(posX - sliderBG.AbsolutePosition.X, 0, sliderBG.AbsoluteSize.X)
		local value = min + (pos / sliderBG.AbsoluteSize.X)*(max-min)
		sliderFill.Size = UDim2.new((value-min)/(max-min),0,1,0)
		handle.Position = UDim2.new((value-min)/(max-min)-handle.Size.X.Scale/2,0,0,0)
		label.Text = name .. ": " .. string.format("%.1f", value)
		callback(value)
	end

	sliderBG.InputBegan:Connect(function(input)
		if input.UserInputType==Enum.UserInputType.Touch then
			draggingSlider = true
			sliderInput = input
			updateSlider(input.Position.X)
		end
	end)
	sliderBG.InputChanged:Connect(function(input)
		if draggingSlider and input==sliderInput then updateSlider(input.Position.X) end
	end)
	sliderBG.InputEnded:Connect(function(input)
		if input.UserInputType==Enum.UserInputType.Touch and input==sliderInput then
			draggingSlider = false
			sliderInput = nil
		end
	end)
end

CreateSlider("Velocidade", 0.5, 10, Velocidade, 0, function(val) Velocidade=val end)
CreateSlider("Distancia", 2, 30, Distancia, 90, function(val) Distancia=val end)

-- =================== Botões ===================
local StopBtn = Instance.new("TextButton")
StopBtn.Size = UDim2.new(1, -20, 0, 45)
StopBtn.Position = UDim2.new(0, 10, 0, 190)
StopBtn.BackgroundColor3 = Color3.fromRGB(180,50,50)
StopBtn.Text = "Parar Orbitar"
StopBtn.TextColor3 = Color3.fromRGB(255,255,255)
StopBtn.TextScaled = true
StopBtn.Parent = SliderFrame
StopBtn.MouseButton1Click:Connect(StopOrbit)

local SafeZoneBtn = Instance.new("TextButton")
SafeZoneBtn.Size = UDim2.new(1, -20, 0, 45)
SafeZoneBtn.Position = UDim2.new(0, 10, 0, 250)
SafeZoneBtn.BackgroundColor3 = Color3.fromRGB(50,180,50)
SafeZoneBtn.Text = "Teleport Zona Segura"
SafeZoneBtn.TextColor3 = Color3.fromRGB(255,255,255)
SafeZoneBtn.TextScaled = true
SafeZoneBtn.Parent = SliderFrame

SafeZoneBtn.MouseButton1Click:Connect(function()
	local character = LocalPlayer.Character
	if not character then return end
	local hrp = character:FindFirstChild("HumanoidRootPart")
	if not hrp then return end
	local safeZone = workspace:FindFirstChild(SafeZoneName)
	if safeZone then
		local pos
		if safeZone:IsA("BasePart") then
			pos = safeZone.Position
		elseif safeZone:IsA("Model") then
			if safe
